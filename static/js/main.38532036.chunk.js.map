{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","utils/Api.js","components/EditAvatarPopup.js","components/EditProfilePopup.js","components/AddPlacePopup.js","components/ConfirmPopup.js","components/Spinner.js","components/Login.js","components/Register.js","utils/auth.js","components/InfoToolTip.js","images/authOK.png","images/authNoOK.png","components/ProtectedRoute.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","exact","path","userEmail","onClick","onSingOut","to","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","onCardDeleteRequest","onCardClick","style","backgroundImage","link","name","onCardLike","length","Main","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","Footer","ImagePopup","isOpen","onClose","src","alt","PopupWithForm","onSubmit","text","children","btnText","api","config","this","mainUrl","headers","fetch","then","_getResponseData","Promise","all","getUserInfo","getInitialCards","data","method","body","JSON","stringify","url","id","likeRemove","likeAdd","res","ok","json","reject","status","authorization","EditAvatarPopup","avatarRef","useRef","e","preventDefault","onUpdateAvatar","current","value","isLoading","ref","required","autoComplete","placeholder","EditProfilePopup","useState","setName","description","setDescription","useEffect","onUpdateUser","onChange","target","minLength","maxLength","AddPlacePopup","setNamePlace","setLinkPlace","ConfirmPopup","Spinner","Login","email","setEmail","password","setPassword","handleLogin","Register","onRegistration","BASE_URL","getResponseData","InfoToolTip","isInfoToolTipOpen","isRegistered","ProtectedRoute","Component","component","loggedIn","App","setCurrentUser","setIsRegistered","setIsInfoToolTipOpen","isEditProfilePopupOpen","setEditProfilePopup","isAddPlacePopupOpen","setAddPlacePopup","isEditAvatarPopupOpen","setEditAvatarPopup","selectedCard","setSelectedCard","isConfirmPopupOpen","setConfirmPopupOpen","setCards","setIsLoading","setLoggedIn","setUserEmail","history","useHistory","handleInfoToolTipOpen","closeAllPopups","getInitialData","userData","initialCardsData","catch","err","console","log","finally","localStorage","getItem","jwt","token","Accept","Authorization","push","tokenCheck","Provider","removeItem","setItem","auth","changeLikeCardStatus","newCard","newCards","currentCard","changeUserInfo","changeUserAvatar","newCardAdd","evt","deleteCard","filter","elem","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.38532036.chunk.js","sourcesContent":["import { Link, Switch, Route } from \"react-router-dom\";\r\nfunction Header (props) {\r\n    return (\r\n        <header className=\"header\">\r\n        <div className=\"header__logo\"></div>\r\n        <Switch>\r\n        <Route exact path=\"/\">\r\n          <div className=\"header__container\">\r\n            <p className=\"header__userEmail\">{props.userEmail}</p>\r\n            <Link\r\n              className=\"header__link\"\r\n              onClick={props.onSingOut}\r\n              to=\"/sign-in\"\r\n            >\r\n              Выйти\r\n            </Link>\r\n          </div>\r\n        </Route>\r\n        <Route path=\"/sign-up\">\r\n          <Link className=\"header__link\" to=\"/sign-in\">\r\n            Войти\r\n          </Link>\r\n        </Route>\r\n        <Route path=\"/sign-in\">\r\n          <Link className=\"header__link\" to=\"/sign-up\">\r\n            Регистрация\r\n          </Link>\r\n        </Route>\r\n      </Switch>\r\n    </header>\r\n    )\r\n}\r\nexport default Header","import React from \"react\";\r\nexport const CurrentUserContext = React.createContext();","import { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport React from 'react';\r\n\r\nfunction Card(props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    const isOwn = props.card.owner._id === currentUser._id;\r\n\r\n    const cardDeleteButtonClassName = (\r\n        `${isOwn ? 'elements__delete' : 'elements__delete_noactive'}`\r\n    );\r\n\r\n    const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n    \r\n\r\n    const cardLikeButtonClassName = `${isLiked ? 'elements_button elements__button_active' : 'elements__button'}`;\r\n\r\n    function handleClick() {\r\n        props.onCardClick(props.card);\r\n    }\r\n    \r\n    function handleLikeClick() {\r\n        props.onCardLike(props.card);\r\n    }\r\n    \r\n\r\n    function handleDeleteRequest() {\r\n        props.onCardDeleteRequest(props.card);\r\n      }\r\n    return (\r\n\r\n        <li className=\"elements__item\">\r\n            <button className={cardDeleteButtonClassName} type=\"button\" onClick = {handleDeleteRequest}></button>\r\n            <div className=\"elements__photo\" onClick={handleClick} style={{ backgroundImage: `url(${props.card.link})` }}></div>\r\n            <div className=\"elements__name-container\">\r\n                <h3 className=\"elements__name\">{props.card.name}</h3>\r\n                <div className=\"elements__like-container\">\r\n                    <button className={cardLikeButtonClassName} onClick={handleLikeClick} type=\"button\"></button>\r\n                    <p className=\"elements__like-counter\">{props.card.likes.length}</p>\r\n                </div>\r\n            </div>\r\n        </li>\r\n\r\n    )\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main(props) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    return (\r\n        <main>\r\n            <section className=\"profile\">\r\n                <div className=\"profile__container\">\r\n                    <div className=\"profile__photo-container\">\r\n                        <div className=\"profile__photo\" style={{ backgroundImage: `url(${currentUser.avatar})` }} ></div>\r\n                        <div className=\"profile__photo-overlay\"\r\n                            onClick={props.onEditAvatar}></div>\r\n                    </div>\r\n                    <div className=\"profile__all\">\r\n                        <div className=\"profile__box\">\r\n                            <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n                            <button className=\"profile__corrector\"\r\n                                type=\"button\"\r\n                                onClick={props.onEditProfile}></button>\r\n                        </div>\r\n                        <p className=\"profile__occupation\">{currentUser.about}</p>\r\n                    </div>\r\n                </div>\r\n                <button className=\"profile__add-button\" type=\"button\"\r\n                    onClick={props.onAddPlace}></button>\r\n            </section>\r\n            <section>\r\n                <ul className=\"elements\">\r\n                    {props.cards.map((card) => (\r\n                       \r\n                        <Card key={card._id} \r\n                        card={card} \r\n                        onCardClick={props.onCardClick} \r\n                        onCardDeleteRequest={props.onCardDeleteRequest} \r\n                        onCardLike={props.onCardLike} />\r\n\r\n                    ))}\r\n                </ul>\r\n            </section>\r\n\r\n\r\n        </main>\r\n    )\r\n}\r\n\r\nexport default Main;","function Footer () {\r\n    return (\r\n    <footer className=\"footer\">\r\n        \r\n    <p className=\"footer__text\">&#169; 2021.Mesto Russia</p>\r\n    </footer>\r\n    )\r\n}\r\n\r\nexport default Footer;","function ImagePopup (props) {\r\n    return (\r\n         <div className =  {`popup popup_type_image ${props.card.isOpen ? \"popup popup_type_image popup_opened\" : 'popup popup_type_image'}`}> \r\n        <figure className=\"popup__image-container\">\r\n            <button className=\"popup__close popup__close_image\"\r\n                type=\"button\" onClick={props.onClose}></button>\r\n            <img src={props.card.link} alt={props.card.name}\r\n                className=\"popup__image\"/>\r\n            <figcaption className=\"popup__image-name\">{props.card.name}</figcaption>\r\n        </figure>\r\n    </div>\r\n    )\r\n    \r\n}\r\nexport default ImagePopup;","\r\nfunction PopupWithForm (props) {\r\n    \r\n        return (\r\n            <div className={`popup popup_type_${props.name} ${props.isOpen && 'popup_opened'}`}>\r\n                <div className=\"popup__container\">\r\n                    <button className=\"popup__close popup__close_edit\" type=\"button\" onClick={props.onClose}></button>\r\n                    <form className=\"form\" name={props.name} onSubmit={props.onSubmit}>\r\n                        <h2 className=\"form__title\">{props.text}</h2>\r\n                        {props.children}\r\n                        <button className=\"form__save-button\" type=\"submit\">{props.btnText}</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\nexport default PopupWithForm;\r\n\r\n\r\n","\r\n\r\nclass Api {\r\n    constructor(config) {\r\n        this.mainUrl = config.mainUrl;\r\n        this.headers = config.headers;\r\n    }\r\n\r\n    getInitialCards() {\r\n        return fetch(this.mainUrl + 'cards',\r\n            { headers: this.headers })\r\n            .then(this._getResponseData)\r\n    }\r\n\r\n    getUserInfo() {\r\n        return fetch(this.mainUrl + 'users/me', {\r\n            headers: this.headers\r\n        })\r\n        .then(this._getResponseData)\r\n\r\n    }\r\n    getInitialData() {\r\n        return Promise.all([this.getUserInfo(), this.getInitialCards()]);\r\n      }\r\n\r\n    changeUserInfo(data) {\r\n        return fetch(this.mainUrl + 'users/me', {\r\n            method: 'PATCH',\r\n            headers: this.headers,\r\n            body: JSON.stringify({\r\n                name: data.name,\r\n                about: data.about\r\n            })\r\n        })\r\n        .then(this._getResponseData)\r\n    }\r\n\r\n    changeUserAvatar(data) {\r\n        return fetch(this.mainUrl + 'users/me/avatar', {\r\n            method: 'PATCH',\r\n            headers: this.headers,\r\n            body: JSON.stringify({\r\n                avatar: data.avatar,\r\n\r\n            })\r\n        })\r\n        .then(this._getResponseData)\r\n    }\r\n\r\n    newCardAdd(url, data) {\r\n        return fetch(this.mainUrl + url, {\r\n            method: 'POST',\r\n            headers: this.headers,\r\n            body: JSON.stringify({\r\n                name: data.name,\r\n                link: data.link\r\n            })\r\n        })\r\n        .then(this._getResponseData)\r\n\r\n    }\r\n\r\n    deleteCard(id) {\r\n        return fetch(`https://mesto.nomoreparties.co/v1/cohort-27/cards/${id}`, {\r\n            method: 'DELETE',\r\n            headers: this.headers,\r\n        })\r\n        .then(this._getResponseData)\r\n    }\r\n    changeLikeCardStatus(id, isLiked) {\r\n        if (isLiked) {\r\n          return this.likeRemove(`cards/likes/${id}`);\r\n        } else {\r\n          return this.likeAdd(`cards/likes/${id}`);\r\n        }\r\n      }\r\n\r\n    likeAdd(url) {\r\n        return fetch(this.mainUrl + url, {\r\n            method: 'PUT',\r\n            headers: this.headers\r\n        })\r\n        .then(this._getResponseData)\r\n    }\r\n\r\n    likeRemove(url) {\r\n        return fetch(this.mainUrl + url, {\r\n            method: 'DELETE',\r\n            headers: this.headers\r\n        })\r\n        .then(this._getResponseData)      \r\n    }\r\n    \r\n    _getResponseData(res) {\r\n        if (!res.ok) {\r\n            return Promise.reject(`Ошибка: ${res.status}`);\r\n        }\r\n        return res.json();\r\n    }\r\n\r\n}\r\n\r\nexport const api = new Api({\r\n    mainUrl: 'https://mesto.nomoreparties.co/v1/cohort-27/',\r\n    headers: {\r\n      authorization: '6d5ca00d-91ba-48f8-98c4-b38aa97b3c19',\r\n      'Content-Type': 'application/json'\r\n    }\r\n  });\r\n\r\n\r\n\r\n\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\"\r\n\r\n\r\nfunction EditAvatarPopup (props) {\r\n    const avatarRef = React.useRef();\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n      \r\n        props.onUpdateAvatar({\r\n          avatar: avatarRef.current.value\r\n        });\r\n      } \r\n    return (\r\n      <PopupWithForm name=\"avatar\"\r\n      text =\"Обновить аватар\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n      btnText={props.isLoading ? \"Сохранение...\" : \"Сохранить\"}>\r\n                    <input type=\"url\" className=\"form__input\" ref={avatarRef} id=\"avatar\" name=\"avatar\" required autoComplete=\"off\" placeholder=\"Ссылка на картинку\"/>\r\n                    <span className=\"form__input-error\" id=\"avatar-error\"></span>\r\n                 \r\n   </PopupWithForm>\r\n    \r\n    )\r\n}\r\nexport default EditAvatarPopup;","import React from \"react\";\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport PopupWithForm from \"./PopupWithForm\"\r\n\r\nfunction EditProfilePopup(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const [name, setName] = React.useState(currentUser.name);\r\n  const [description, setDescription] = React.useState(currentUser.about);\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser, props.isOpen]);\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleChangeDescription(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm name=\"edit\"\r\n      text=\"Редактировать профиль\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n      btnText={props.isLoading ? \"Сохранение...\" : \"Сохранить\"}>\r\n      <input type=\"text\" value={name || ' '} onChange={handleChangeName} className=\"form__input\" id=\"name\" minLength=\"2\" maxLength=\"40\" name=\"name\" required />\r\n      <span className=\"form__input-error\" id=\"name-error\"></span>\r\n      <input type=\"text\" value={description || ' '} onChange={handleChangeDescription} className=\"form__input\" id=\"job\" minLength=\"2\" maxLength=\"200\" name=\"about\" required />\r\n      <span className=\"form__input-error\" id=\"job-error\"></span>\r\n    </PopupWithForm>\r\n\r\n\r\n  )\r\n}\r\nexport default EditProfilePopup;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\"\r\n\r\nfunction AddPlacePopup(props) {\r\n    const [name, setNamePlace] = React.useState('');\r\n    const [link, setLinkPlace] = React.useState('');\r\n\r\n    function handleAddNamePlace(e) {\r\n        setNamePlace(e.target.value);\r\n    }\r\n\r\n    function handleAddLinkPlace(e) {\r\n        setLinkPlace(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onAddPlace({\r\n            name, link\r\n        });\r\n        setNamePlace(\"\");\r\n        setLinkPlace(\"\");\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm name=\"new-place\"\r\n            text=\"Новое место\"\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            onSubmit={handleSubmit}\r\n            btnText={props.isLoading ? \"Сохранение...\" : \"Создать\"}>\r\n            <input type=\"text\" className=\"form__input\" id=\"place\" name=\"name\"\r\n                minLength=\"2\" maxLength=\"30\" required autoComplete=\"off\"\r\n                placeholder=\"Новое место\" onChange={handleAddNamePlace} value={name || ''} />\r\n            <span className=\"form__input-error\" id=\"place-error\"></span>\r\n            <input type=\"url\" className=\"form__input\" id=\"link\" name=\"link\" \r\n            required autoComplete=\"off\" placeholder=\"Ссылка на картинку\" \r\n            onChange={handleAddLinkPlace} value={link || ''}/>\r\n            <span className=\"form__input-error\" id=\"link-error\"></span>\r\n        </PopupWithForm>\r\n    );\r\n\r\n}\r\nexport default AddPlacePopup;","import PopupWithForm from \"./PopupWithForm\"\r\nfunction ConfirmPopup(props) {\r\n    return (\r\n        <PopupWithForm name=\"new-place\"\r\n            text=\"Вы уверены?\"\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            onSubmit={props.onSubmit}\r\n            btnText={props.isLoading ? \"Удаление...\" : \"Да\"}>\r\n        </PopupWithForm>\r\n\r\n    )\r\n\r\n}\r\nexport default ConfirmPopup","function Spinner (props) {\r\n    return (\r\n        <div className ={props.isLoading? \"spinner spinner_visible\" : \"spinner\"}></div>\r\n    )\r\n}\r\nexport default Spinner","import React from \"react\";\r\nfunction Login(props) {\r\n    const [email, setEmail] = React.useState(\"\");\r\n  const [password, setPassword] = React.useState(\"\");\r\n\r\n  function handleEmailChange(e) {\r\n    setEmail(e.target.value);\r\n  }\r\n\r\n  function handlePasswordChange(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.handleLogin(password, email);\r\n  }\r\n    return (\r\n\r\n\r\n        <div className=\"login__container\" >\r\n            <form className=\"form\" name='login' onSubmit={handleSubmit}>\r\n                <h2 className=\"login__title\">Вход</h2>\r\n                <input type=\"email\" className=\"login__input\" id=\"email\" \r\n                minLength=\"2\" maxLength=\"40\" name=\"name\" \r\n                required placeholder=\"Email\"\r\n                 value={email} onChange={handleEmailChange}/>\r\n                <span className=\"form__input-error\" id=\"email-error\"></span>\r\n                <input type=\"text\" className=\"login__input\" id=\"password\"\r\n                 minLength=\"2\" maxLength=\"200\" name=\"about\"\r\n                required placeholder=\"Password\"\r\n                 value={password} onChange={handlePasswordChange}/>\r\n                <span className=\"form__input-error\" id=\"password-error\"></span>\r\n                <button className=\"login__button\" type=\"submit\">Войти</button>\r\n            </form>\r\n        </div>\r\n\r\n\r\n    )\r\n}\r\nexport default Login;","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n\r\nfunction Register(props) {\r\n    const [email, setEmail] = React.useState(\"\");\r\n    const [password, setPassword] = React.useState(\"\");\r\n    function handleEmailChange(e) {\r\n        setEmail(e.target.value);\r\n    }\r\n\r\n    function handlePasswordChange(e) {\r\n        setPassword(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onRegistration({ password, email });\r\n    }\r\n    return (\r\n        <div className=\"login__container\" >\r\n            <form className=\"form\" name='register' onSubmit={handleSubmit}>\r\n                <h2 className=\"login__title\">Регистрация</h2>\r\n                <input type=\"email\" className=\"login__input\" id=\"register_email\"\r\n                    minLength=\"2\" maxLength=\"40\" name=\"register_email\"\r\n                    required placeholder=\"Email\"\r\n                    value={email} onChange={handleEmailChange} />\r\n                <span className=\"form__input-error\" id=\"email-error\"></span>\r\n                <input type=\"text\" className=\"login__input\" id=\"password\"\r\n                    minLength=\"2\" maxLength=\"200\" name=\"about\"\r\n                    required placeholder=\"Password\"\r\n                    value={password} onChange={handlePasswordChange} />\r\n                <span className=\"form__input-error\" id=\"password-error\"></span>\r\n                <button className=\"login__button\" type=\"submit\">Зарегистрироваться</button>\r\n                <p className = \"login__text\">Уже зарегистрированы? <Link className=\"login__link\" to=\"/sign-in\">\r\n            Войти\r\n          </Link> </p>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register;","export const BASE_URL = \"https://auth.nomoreparties.co\";\r\n\r\nfunction getResponseData (res) {\r\n    if (!res.ok) {\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n    return res.json();\r\n}\r\n\r\nexport const registration = (data) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({\r\n      password: data.password,\r\n      email: data.email,\r\n    }),\r\n  }).then((res) => getResponseData(res));\r\n};\r\n\r\nexport const authorization = (password, email) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({\r\n      password: password,\r\n      email: email,\r\n    }),\r\n  })\r\n  .then((res) => getResponseData(res))\r\n  .then((data) => {\r\n    if (data.token){\r\n      localStorage.setItem('jwt', data.token);\r\n      return data;\r\n    }\r\n})\r\n};\r\n\r\nexport const getContent = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((res) => getResponseData(res))\r\n};","import authOK from \"../images/authOK.png\";\r\nimport authNoOK from \"../images/authNoOK.png\";\r\nfunction InfoToolTip (props) {\r\n    return (\r\n        <div className={`popup popup_type_infoTool ${props.isInfoToolTipOpen && 'popup_opened'}`}>\r\n        <div className=\"popup__container\">\r\n            <button className=\"popup__close\" type=\"button\" onClick={props.onClose}></button>\r\n            <div className=\"popup__auth-container\" >\r\n                <img src = {props.isRegistered ? authOK : authNoOK} className = \"popup__auth-image\" alt = \"OK or not OK\"/>\r\n                <p className=\"popup__auth-text\">{props.isRegistered\r\n            ? \"Вы успешно зарегистрировались!\"\r\n            : \"Что-то пошло не так! Попробуйте ещё раз.\"}</p>\r\n                \r\n            </div>\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\nexport default InfoToolTip","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />\r\n      }\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;","\nimport '../index.css';\nimport Header from './Header';\nimport React from 'react';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport PopupWithForm from './PopupWithForm';\nimport { api } from '../utils/Api'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ConfirmPopup from './ConfirmPopup';\nimport Spinner from './Spinner';\nimport { Route, Switch, useHistory } from 'react-router-dom';\nimport Login from './Login';\nimport Register from './Register';\nimport * as auth from \"../utils/auth.js\";\nimport InfoToolTip from \"./InfoToolTip\"\nimport ProtectedRoute from './ProtectedRoute';\n\n\nfunction App() {\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [isRegistered, setIsRegistered] = React.useState(false);\n  const [isInfoToolTipOpen, setIsInfoToolTipOpen] = React.useState(false);\n  const [isEditProfilePopupOpen, setEditProfilePopup] = React.useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopup] = React.useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopup] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState(({ isOpen: false }));\n  const [isConfirmPopupOpen, setConfirmPopupOpen] = React.useState(false);\n  const [cards, setCards] = React.useState([]);\n  const [isLoading, setIsLoading] = React.useState(false);\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [userEmail, setUserEmail] = React.useState(\"\");\n  const history = useHistory();\n\n  React.useEffect(() => {\n    setIsLoading(true)\n    api.getInitialData()\n      .then(\n        (data) => {\n          const [userData, initialCardsData] = data;\n          setCards(initialCardsData);\n          setCurrentUser(userData);\n        })\n      .catch((err) => console.log(err))\n      .finally(() => {\n        setIsLoading(false);\n      })\n  }, [])\n\n\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.changeLikeCardStatus(card._id, isLiked)\n      .then(\n        (newCard) => {\n          const newCards = cards.map((currentCard) => currentCard._id === card._id ? newCard : currentCard)\n          setCards(newCards);\n        })\n      .catch((err) => {\n        console.log(err);\n      })\n  }\n\n\n\n  function handleCardDelete(evt) {\n    evt.preventDefault();\n    setIsLoading(true)\n    api.deleteCard(selectedCard._id)\n      .then(\n        () => {\n          const newCards = cards.filter((elem) => elem._id !== selectedCard._id);\n          setCards(newCards);\n          closeAllPopups();\n        })\n      .catch((err) => console.log(err))\n      .finally(() => {\n        setIsLoading(false);\n      })\n  }\n\n  function handleEditAvatarClick() {\n    setEditAvatarPopup(true);\n  }\n\n  function handleEditProfileClick() {\n    setEditProfilePopup(true);\n  }\n  function handleAddPlaceClick() {\n    setAddPlacePopup(true);\n  }\n  function handleInfoToolTipOpen() {\n    setIsInfoToolTipOpen(true);\n  }\n\n  function handleRegistration(password, email) {\n    auth.registration(password, email)\n      .then((data) => {\n        setIsRegistered(true);\n        handleInfoToolTipOpen();\n        history.push(\"/sign-in\");\n      })\n      .catch((err) => {\n        console.log(err);\n        setIsRegistered(false);\n        handleInfoToolTipOpen();\n      })\n  }\n\n\n\n  function handleCardClick(card) {\n    setSelectedCard({\n      isOpen: true,\n      link: card.link,\n      name: card.name\n    })\n  }\n\n  function closeAllPopups() {\n    setEditAvatarPopup(false);\n    setEditProfilePopup(false);\n    setAddPlacePopup(false);\n    setSelectedCard({\n       isOpen: false\n      });\n    setConfirmPopupOpen(false);\n    setIsInfoToolTipOpen(false)\n\n  }\n\n  function handleUpdateUser(data) {\n    setIsLoading(true)\n    api.changeUserInfo(data)\n      .then((data) => {\n        setCurrentUser(data)\n        closeAllPopups()\n      })\n      .catch((err) => console.log(err))\n      .finally(() => {\n        setIsLoading(false);\n      })\n\n\n  }\n  function handleUpdateAvatar(data) {\n    setIsLoading(true)\n    api.changeUserAvatar(data)\n      .then((data) => {\n        setCurrentUser(data)\n        closeAllPopups()\n      })\n      .catch((err) => console.log(err))\n      .finally(() => {\n        setIsLoading(false);\n      })\n\n  }\n  function handleAddPlaceSubmit(data) {\n    setIsLoading(true)\n    api.newCardAdd('cards', data)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups()\n      })\n      .catch((err) => console.log(err))\n      .finally(() => {\n        setIsLoading(false);\n      })\n  }\n\n  function handleCardDeleteRequest(card) {\n    setSelectedCard(card);\n    setConfirmPopupOpen(true);\n  }\n\n  function handleSignOut() {\n    localStorage.removeItem(\"jwt\");\n    history.push(\"/login\");\n  }\n\n  function handleLogin(password, email) {\n    auth.authorization(password, email)\n      .then((data) => {\n        console.log(data);\n        setLoggedIn(true);\n        setUserEmail(email);\n        history.push(\"/\");\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n  }\n\n\n\n  React.useEffect(() => {\n    tokenCheck();\n  }, []);\n\n  function tokenCheck() {\n    if (localStorage.getItem(\"jwt\")) {\n      const jwt = localStorage.getItem(\"jwt\");\n      auth.getContent(jwt)\n        .then((res) => {\n          if (res) {\n            console.log(res)\n            setUserEmail(res.data[\"email\"]);\n            setLoggedIn(true);\n            history.push(\"/\");\n          }\n        })\n        .catch((err) => console.log(err))\n    }\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Spinner isLoading={isLoading} />\n        <Header userEmail={userEmail} onSingOut={handleSignOut} />\n        <Switch>\n          <Route path=\"/sign-in\">\n            <Login handleLogin={handleLogin} />\n          </Route>\n          <Route path=\"/sign-up\">\n            <Register onRegistration={handleRegistration} />\n          </Route>\n\n          <ProtectedRoute\n            component={Main}\n            path=\"/\"\n            loggedIn={loggedIn}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            onCardClick={handleCardClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onCardDeleteRequest={handleCardDeleteRequest} />\n        </Switch>\n\n        {loggedIn && <Footer />}\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} isLoading={isLoading} />\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} isLoading={isLoading} />\n        <AddPlacePopup isOpen={isAddPlacePopupOpen} btnText='Создать' onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} isLoading={isLoading} />\n        <PopupWithForm name='delete' text='Вы уверены' btnText='Да' isLoading={isLoading} />\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n        <ConfirmPopup isOpen={isConfirmPopupOpen} onClose={closeAllPopups} onSubmit={handleCardDelete} isLoading={isLoading} />\n        <InfoToolTip isInfoToolTipOpen={isInfoToolTipOpen} isRegistered={isRegistered} onClose={closeAllPopups} />\n\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter} from 'react-router-dom'\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter> \n    <App />\n    </BrowserRouter> \n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}